## PHP黑魔法

- #### 变量比较

  ===先判断两个变量的类型，再比较

  ==会将变量类型转化为相同，再比较

- int strcmp ( string $str1 , string $str2 )

  如果 str1 小于 str2 返回 < 0； 如果 str1 大于 str2 返回 > 0；如果两者相等，返回 0。

  传入数组返回null

- #### 哈希比较

  PHP”!=”或”==”来比较哈希字符串，以”0E”开头的哈希值都解释为0，所以如果两个不同的密码经过哈希以后，其哈希值都是以”0E”开头的，PHP认为他们相同，都是0。

- #### md5()和sha1()函数

  当md5()函数与sha1()函数对参数进行加密处理时，如果碰到一个数组，md5()函数会返回null，sha1()函数也是一样。利用这个特性构造两个数组即可。

- #### intval()

  intval() 在转换的时候，会从字符串的开始进行转换直到遇到一个非数字的字符。即使出现无法转换的字符串，intval() 不会报错而是返回 0

  intval函数用于获取变量的整数值。通过使用指定的进制 base 转换（默认是十进制），返回变量 var 的 integer 数值。 intval() 不能用于 object，否则会产生 E_NOTICE 错误并返回 1。

  ```
  var_dump(intval('3abcd')) // 3
  ```

- #### ereg()，eregi()函数

  - %00截断，在遇到%00的时候会认为字符串结束了

  - ereg函数中的参数值如果为数组，会返回false

  ereg区分大小写eregi不区分

- #### strlen()函数

  strlen()返回字符串的长度，可以通过科学计数法1e9绕过

- #### is_numeric()函数，trim()函数

  is_numeric() 函数，如果变量是数字和数字字符串则返回 TRUE，否则返回 FALSE。

  默认16进制的字符串为整形，这样就可以构造16进制的payload来进行函数绕过。

  is_numeric 检测的时候会自动过滤掉前面的 ‘ ‘, ‘\t’, ‘\n’, ‘\r’, ‘\v’, ‘\f’ 等字符，但是不会过滤 ‘\0’，如果这些字符出现在字符串尾，也不会过滤，而是返回 false

  trim 函数会过滤空格以及 \n\r\t\v\0，但不会过滤过滤\f

- #### in_array()函数

  in_array()函数用来判断字符串是否存在与数组中，但是在判断的时候，会进行类型强制转换，就会出现数字比较的情况。

- #### strpos()函数

  查找字符串在另一字符串中第一次出现的位置（区分大小写）

